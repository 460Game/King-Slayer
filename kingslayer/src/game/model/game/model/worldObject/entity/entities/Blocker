package game.model.game.model.worldObject.entity.entities;

import game.model.game.model.GameModel;
import game.model.game.model.worldObject.entity.shape.CellCollisionDataellShape;
import game.model.game.model.worldObject.entity.shape.CollisionDatata.Shape;
import game.model.game.model.worldObject.Team;
import javafx.scene.canvas.GraphicsContext;

/**
 * Defines a blocking entity that covers an entire cell and
 * cannot be passed through.
 */
public class Blocker extends StationaryEntity {

    /**
     * collisionData of a blocker is a cell collisionData.
     */
    private CellShape collisionData;

    @Override
    public void copyOf(Entity other) {
        assert(other instanceof Blocker);
        Blocker o = (Blocker) other;
        this.collisionData = o.collisionData;
        super.copyOf(other);
    }

    /**
     * Constructor for a blocker. It has infinite health and
     * has no team affiliation.
     */
    public Blocker() {
        super();
        this.collisionData = new CellShape();
        this.setTeam(Team.NEUTRAL);
        this.setHealth(Double.POSITIVE_INFINITY);
    }

    /**
     * Constructor for a blocker, given a position and game model.
     * @param model current model of the game
     * @param x x-coordinate
     * @param y y-coordinate
     */
    public Blocker(GameModel model, int x, int y) {
        super(model);
        this.collisionData = new CellShape(x, y);
        this.setTeam(Team.NEUTRAL);
        this.setHealth(Double.POSITIVE_INFINITY);
    }

    @Override
    public Shape getShape() {
        return collisionData;
    }

    @Override
    public double getDrawZ() {
        return this.collisionData.getY();
    }

    @Override
    public void update(long time, GameModel model) {
        //Do nothing
    }

    @Override
    public void draw(GraphicsContext gc, GameModel model) {
        //Do nothing
    }
}
